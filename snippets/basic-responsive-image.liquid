{%- if type.size > 0 -%}
  {% assign image_box_ratio = 1 | divided_by: type.aspect_ratio | times: 100 | round: 2 | append: "%" %}
  {% assign img_url = type | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}

  {%- if template == 'product' -%}
    {% assign imageid = product.id %}
  {%- else -%}
    {% assign imageid = type.id %}
  {%- endif -%}

  <div class="box-ratio" style="padding-bottom: {{ image_box_ratio }}">
    <img class="lazyload lazyload-fade"
      id="{{ imageid }}"
      data-src="{{ img_url }}"
      data-sizes="auto"
      alt="{{ type.alt | escape }}"
      width="100%"
      height="100%"
      loading="lazy">
  </div>
{%- endif -%}
