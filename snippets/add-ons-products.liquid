{% if product.metafields.custom.variant_addon.value %}
{{ 'component-add-ons-products.css' | asset_url | stylesheet_tag }}
{{ 'component-custom-accordion.css' | asset_url | stylesheet_tag }}
<script src="{{ 'component-custom-accordion.js' | asset_url }}" defer="defer"></script>

<div class="clear"></div>

<div class="addons-products">
  <h5 class="addons-products__title">
    <span class="option-position">{{ option_size | plus: 1 }}</span> Choose Add-ons
  </h5>

  <custom-accordion class="addons-products__accordion-container">
    <div class="custom-accordion-item">
      <button type="button" aria-expanded="true" aria-controls="accordion-content-1" class="custom-accordion-title">
        <span>Add Storage Seats</span>
        <span class="custom-accordion-item__icon"></span>
      </button>
      <div id="accordion-content-1" class="custom-accordion-content" aria-hidden="false">
        <div class="custom-accordion-content-inner">
          <div class="addons-products__video">
            <video
              muted="muted"
              preload="metadata"
              poster="//7thavenue.co/cdn/shop/files/preview_images/3302cc9b714c453f9d085eae3d7cbf1f.thumbnail.0000000000_800x.jpg?v=1707245352"
              controls
            >
              <source
                src="//7thavenue.co/cdn/shop/videos/c/vp/3302cc9b714c453f9d085eae3d7cbf1f/3302cc9b714c453f9d085eae3d7cbf1f.HD-720p-4.5Mbps-24207102.mp4?v=0"
                type="video/mp4"
              >
              <img
                src="//7thavenue.co/cdn/shop/files/preview_images/3302cc9b714c453f9d085eae3d7cbf1f.thumbnail.0000000000_800x.jpg?v=1707245352"
                width="100%"
                height="100%"
                loading="lazy"
              >
            </video>
          </div>
          <div class="addons-products__container">
            <div class="addons-products__label">
              <span>Add Storage to <u>Some</u> Seats +<span data-addon-variant-per-unit-price>150</span> per Seat</span>
            </div>

            <ul class="addons-products__list">
              {%- for vitem in product.metafields.custom.variant_addon.value -%}
                <li
                  class="addons-products__item"
                  data-addon-variant-group-name="{{ vitem.variant.value.title }}"
                  data-addon-variant-id="{{ vitem.variant.value.id }}"
                  data-addon-variant-price="{{ vitem.variant.value.price }}"
                  data-addon-variant-qty-limit="{{ vitem.quantity }}"
                >
                  <span>{{ vitem.display_name }}</span>
                  <span class="addons-products__item-quantity">
                    <button type="button" name="minus" class="addons-products__item-quantity-button">-</button>
                    <span class="addons-products__item-quantity-status"
                      ><input
                        type="number"
                        value="0"
                        min="0"
                        max="{{ vitem.quantity }}"
                        class="addons-products__item-quantity-input"
                      >
                      out of {{ vitem.quantity -}}
                    </span>
                    <button type="button" name="plus" class="addons-products__item-quantity-button">+</button>
                  </span>
                </li>
              {%- endfor -%}
            </ul>
          </div>
          <div class="addons-products__container">
            <label class="addons-products__label" for="addons-products-all__for-1">
              <span>
                Add Storage to <u>All</u> Seats<br>
                +<span data-addon-variant-all-unit-price>$600</span> total
              </span>
              <span class="addons-products-all">
                <input type="checkbox" id="addons-products-all__for-1" data-addon-variant-all-added-once>
                <svg width="16px" height="16px" viewBox="0 0 16 16">
                  <rect width="16" height="16" fill="none" stroke="currentColor"></rect>
                </svg>
                <div class="svg-wrapper">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="icon icon-checkmark" viewBox="0 0 12 9">
                    <path fill="currentColor" fill-rule="evenodd" d="M11.35.643a.5.5 0 0 1 .006.707l-6.77 6.886a.5.5 0 0 1-.719-.006L.638 4.845a.5.5 0 1 1 .724-.69l2.872 3.011 6.41-6.517a.5.5 0 0 1 .707-.006z" clip-rule="evenodd"></path>
                  </svg>
                </div>
              </span>
            </label>
            <p class="addons-products__container-info">
              Maximize your home's extra storage capacity by making all the seats in your configuration storage
              seatsâ€”perfect for blankets and more.
            </p>
          </div>
        </div>
      </div>
    </div>
  </custom-accordion>
</div>
{% endif %}